---
title: iOS 프로그래밍 실무 6주차
author: Ki-Chang Kim (Panther K)
date: 2025-04-09 14:00 +0900
categories: [College, iOS]
tags: [college, ios, swift]
---

## 옵셔널 체이닝 (Optional Chaining)

### 옵셔널 체이닝을 지원하는 언어

#### Javascript

- ?. 연산자를 이용하여 옵셔널 체이닝 구현

```javascript
const user = {
    profile: {
        name: 'Alice'
    }
};
const userName = user.profile?.name; // 'Alice'
const userAge = user.profile?.age;   // undefined (오류 발생하지 않음)
```

#### Typescript

- ? 연산자를 이용하여 옵셔널 체이닝 구현

```typescript
interface User {
    profile?: {
        name: string;
        age?: number;
    };
}
const user: User = {};
const userName = user.profile?.name; // undefined
```

#### Python

- 직접적인 옵셔널 체이닝 문법은 없지만 getattr을 사용해 유사한 기능 구현

```python
user = {'profile': {'name': 'Alice'}}
user_name = user.get('profile', {}).get('name')  # 'Alice'
user_age = user.get('profile', {}).get('age')    # None
```

### Kotlin

- ?. 연산자를 이용해 옵셔널 체이닝 구현

```kotlin
data class Profile(val name: String?, val age: Int?)
data class User(val profile: Profile?)
val user: User? = User(null)
val userName = user?.profile?.name // null
```

### 옵셔널을 언래핑하는 방법

```swift
var x: String? = "Hi" // 옵셔널 문자열 변수 x를 선언하고 "Hi"로 초기화
print(x, x!) // x의 값과 x를 강제 언래핑한 값을 출력 (x가 nil이 아닐 때만 안전함)

if let a = x { // x가 nil이 아닐 경우에만 a에 값을 할당
    print(a) // a의 값을 출력 (여기서는 "Hi"가 출력됨)
}

let b = x!.count // x를 강제 언래핑하고 그 문자열의 길이를 b에 할당
print(type(of: b), b) // b의 타입과 값을 출력 (Int, 2)

let b1 = x?.count // x가 nil이 아닐 경우에만 count를 계산하여 b1에 할당
print(type(of: b1), b1, b1!) // b1의 타입과 값을 출력 (Optional<Int>, 2, 2)

let c = x ?? "" // x가 nil일 경우 빈 문자열을 c에 할당
print(c) // c의 값을 출력 (여기서는 "Hi"가 출력됨)
```

### ?와 !의 선언문과 실행문에서의 차이점

|  구분  |        `?` (옵셔널)        |        `!` (강제 언래핑)        |
|:------:|:--------------------------:|:-------------------------------:|
| 선언문 | `var name: String?`       | `var name: String!`            |
|        | - nil 값을 가질 수 있음    | - nil이 아님을 보장             |
| 실행문 | `let length = name?.count` | `let length = name!.count`     |
|        | - nil일 경우 nil 반환      | - nil일 경우 런타임 오류 발생  |

### ?와 !의 비교

|   구분   |          `var x: Int!`          |          `var x: Int?`          |
|:--------:|:---------------------------------:|:---------------------------------:|
|  **타입**  | 암시적 언래핑 옵셔널 (Implicitly Unwrapped Optional) | 옵셔널 (Optional)                |
| **초기값** | nil을 가질 수 있으나, 사용 시 반드시 값이 있어야 함 | nil을 가질 수 있으며, 안전하게 사용 가능 |
| **사용 목적** | nil이 아님을 보장하는 경우에 사용 (예: IBOutlet 등) | nil 가능성을 고려하여 안전하게 사용 |
| **강제 언래핑** | 사용 시 강제 언래핑 필요 없음 (암시적 언래핑) | 사용 시 `!`로 강제 언래핑 필요 |
| **런타임 오류** | nil일 경우 런타임 오류 발생 | nil일 경우 안전하게 처리 가능 |

### 실행문에서 ?와 !의 차이점

|  구분  |          `?` (옵셔널 체이닝)          |          `!` (강제 언래핑)          |
|:------:|:--------------------------------------:|:-------------------------------------:|
| **사용법** | `let length = optionalString?.count` | `let length = optionalString!.count`  |
| **nil 처리** | nil일 경우 nil 반환                  | nil일 경우 런타임 오류 발생          |
| **안전성** | 안전하게 접근 가능                    | 위험성이 있음 (강제 언래핑)          |
| **예시** | `let name = user?.name` // user가 nil일 경우 name은 nil  | `let name = user!.name` // user가 nil일 경우 오류 발생 |
